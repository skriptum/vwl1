knitr::opts_chunk$set(echo = TRUE)
starwars %>%
mutate(
star_string = str_c(name, hair_color, eye_color, skin_color, homeworld, films, vehicles, starships, sep = ", "),
films_low = str_to_lower(films),
)
setwd("~/Nextcloud/vwl1/Tuturiom_R/Einführung")
knitr::opts_chunk$set(echo = TRUE)
library("tidyverse")
string1 <- "Hello"
string2 <- "Bye"
mu <- "\u03BC" # mathematisches Zeichen mu
char_vector <- c(string1,string2, mu)
char_vector
str_length(char_vector)
str_c(string1,string2, sep = "|")
x <- c("apple", "banana", "pears")
str_sub(x,start= 1,end= 3)
#überschreiben der 2- 4 buchstaben als Großbuchstaben
str_sub(x,start= 2,end= 4) <- str_to_upper(str_sub(x,2,4))
x
str_sort(x, locale = "en", decreasing = T )
str_view(x, pattern = "A")
words[str_detect(words, "^y")] # alle wörter die mit m anfangen
sum(str_detect(words, "[aeiou]$")) # wörter mit vokal am ende
words[!str_detect(words, "[aeiou]")] #wörter ohne vokal
mean(str_count(words, "[aeiou]")) #durschnitt vokale pro wort
df <- tibble(word = words, i = seq_along(word))
head(df)
df %>%
mutate(vokale = str_count(word, "[aeiou]"), konsonanten = str_count(word, "[^aeiou]"))
ban <- c("Banana", "banana", "BANANA")
ban %>%
str_view(regex("banana"))
# library(forcats)
string <- c("Dez", "Jan", "Feb", "Apr")
sort(string)
monate_level <- c(
"Jan", "Feb", "Mär", "Apr", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"
)
faktor <- factor(string, monate_level)
sort(faktor) # sortierung der Monate nach Faktoren
gss_cat # Datensatz
relig <- gss_cat %>%
group_by(relig) %>%
summarize(
avg_age = mean(age, na.rm=T),
avg_tv = mean(tvhours, na.rm = T),
n = n(),
)
ggplot(relig, aes(avg_tv, relig)) +
geom_point()
ggplot(relig, aes(avg_tv, fct_reorder(relig, avg_tv))) +
geom_point()
gss_cat %>%
mutate(race = fct_recode(race,
"Anders"= "Other",
"Weiß" = "White",
"Schwarz" = "Black"
))
library(tidyverse)
library(lubridate)
now()
today()
dmy("14th September 2024")
ymd("2021, December, 21")
mdy(122108)
ymd_hms("21 September 08 13:54:33")
library(nycflights13)
head(flights)
flights %>%
dplyr::select(year,month, day, hour, minute) %>%
mutate(
departure = make_datetime(year, month, day, hour, minute),
date = make_date(year,month,day)
)
today()
as_datetime(today())
datetime <- ymd_hms("20200914 151623")
month(datetime) #ausgabe monat
#ausgabe wochentag mit Parameter Montag als Anfang und Ausgabe des Namens
wday(datetime, week_start = getOption("lubridate.week.start" , 1), label = T)  #ein montag
yday(datetime) #258 tag des jahres
setwd("~/Nextcloud/vwl1/Tuturiom_R/Einführung")
load("data/starwars.RData")
starwars %>%
dplyr::select(hair_color, skin_color, eye_color) %>%
summarize(
h_length = mean(str_length(hair_color), na.rm = T),
s_length = mean(str_length(skin_color), na.rm = T),
e_length = mean(str_length(eye_color), na.rm = T),
h_sd= sd(str_length(hair_color), na.rm = T),
s_sd = sd(str_length(skin_color), na.rm = T),
e_sd = sd(str_length(eye_color), na.rm = T),
)
starwars %>%
mutate(hair_color = str_c("hair_color", hair_color, sep = ":"))
starwars %>%
unite(hair_color, eye_color, sep = " and ", col="combined")
#oder
starwars %>%
mutate(combined2 = str_c(hair_color,eye_color, sep = " and "))
starwars %>%
mutate(short_hair = str_sub(hair_color, end = 2))
starwars %>%
mutate(
star_string = str_c(name, hair_color, eye_color, skin_color, homeworld, films, vehicles, starships, sep = ", "),
films_low = str_to_lower(films),
)
str_sort(starwars$films)
```{r, echo=FALSE, include=FALSE}
str_sort(starwars$films)
?str_remove
test <- "c(\"The Phantom Menace\", \"Revenge of the Sith\")"
