---
title: "2021-11-08-tidyverse2"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 08.11.21 tidyverse mit stringr und forcats

```{r}
library("tidyverse")
```

### stringr-Paket

paar Beispielstrings kreieren

```{r}
string1 <- "Hello"
string2 <- "Bye"

mu <- "\u03BC" # mathematisches Zeichen mu
char_vector <- c(string1,string2, mu)
char_vector
```

##### Länge von Strings

```{r}
str_length(char_vector)
```

##### Kombinieren von Strings

```{r}
str_c(string1,string2, sep = "|")
```

##### Subsetting

```{r}
x <- c("apple", "banana", "pears")
str_sub(x,start= 1,end= 3)
#überschreiben der 2- 4 buchstaben als Großbuchstaben
str_sub(x,start= 2,end= 4) <- str_to_upper(str_sub(x,2,4)) 
x
```

##### Sortieren

```{r}
str_sort(x, locale = "en", decreasing = T )
```
 
##### Muster mit RegEx

```{r}
str_view(x, pattern = "A")
```
wichtigste RegExs im `stringr`cheatsheet !

##### Ausdruck finden

```{r}
words[str_detect(words, "^y")] # alle wörter die mit m anfangen
sum(str_detect(words, "[aeiou]$")) # wörter mit vokal am ende
words[!str_detect(words, "[aeiou]")] #wörter ohne vokal
```

##### count

```{r}
mean(str_count(words, "[aeiou]")) #durschnitt vokale pro wort
```

##### beispiel 
```{r}
df <- tibble(word = words, i = seq_along(word)) 
head(df)

df %>%
  mutate(vokale = str_count(word, "[aeiou]"), konsonanten = str_count(word, "[^aeiou]"))
```

##### regex() funktion
statt patterns sind auch regex-matches mithilfe der `regex()` funktion möglich

```{r}
ban <- c("Banana", "banana", "BANANA")
ban %>%
  str_view(regex("banana"))
```
### forcats

nützliches Paket zur Arbeit mit Faktoren

